"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[141],{47:function(n,t,e){e.d(t,{Z:function(){return w}});var r,i,a,o,s,c,p=e(689),u=e(87),l=e(168),h=e(444),d=h.ZP.ul(r||(r=(0,l.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),x=h.ZP.li(i||(i=(0,l.Z)(["\n  position: relative;\n  list-style: none;\n  width: 270px;\n  height: 550px;\n  border: 1px solid grey;\n  border-radius: 4px;\n  margin-bottom: 0px;\n\n  a {\n    text-decoration: none;\n  }\n"]))),f=h.ZP.h3(a||(a=(0,l.Z)(["\n  text-align: center;\n  padding: 4px;\n  margin-top: 12px;\n  margin-bottom: 6px;\n  color: black;\n"]))),g=h.ZP.img(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 403px;\n  display: block;\n  border-bottom: 1px solid darkred;\n"]))),v=h.ZP.div(s||(s=(0,l.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  font-weight: 500;\n  color: brown;\n  display: flex;\n  gap: 6px;\n  padding: 15px 6px 15px 6px;\n  justify-content: space-between;\n  border-top: 1px dotted;\n"]))),m=h.ZP.div(c||(c=(0,l.Z)(["\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  padding: 0 6px 0 0;\n  :not(:last-child) {\n    border-right: 1px solid grey;\n  }\n\n  p {\n    margin: 0 0 7px 0;\n  }\n"]))),j=e(184),w=function(n){var t=n.movies,e=(0,p.TH)();return(0,j.jsx)(d,{children:t.map((function(n){return(0,j.jsx)(x,{children:"/movies"===e.pathname?(0,j.jsxs)(u.rU,{to:"".concat(n.id),state:{from:e},children:[null!==n.poster_path?(0,j.jsx)(g,{src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:n.title,width:"100px"}):(0,j.jsx)(g,{src:"https://resources.arcamax.com/newspics/240/24034/2403468.png",alt:n.title,width:"100px"}),n.original_title.length>45?(0,j.jsx)(f,{children:n.original_title.slice(0,45)+"..."}):(0,j.jsx)(f,{children:n.original_title}),(0,j.jsxs)(v,{children:[(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:"Release date:"}),(0,j.jsx)("p",{children:n.release_date.split("-").reverse().join("/")})]}),(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:" Rate:"}),(0,j.jsx)("p",{children:Math.round(10*n.vote_average)/10})]}),(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:" Vote count:"}),(0,j.jsx)("p",{children:n.vote_count})]})]})]}):(0,j.jsxs)(u.rU,{to:"movies/".concat(n.id),state:{from:e},children:[null!==n.poster_path?(0,j.jsx)(g,{src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:n.title,width:"100px"}):(0,j.jsx)(g,{src:"https://resources.arcamax.com/newspics/240/24034/2403468.png",alt:n.title,width:"100px"}),n.original_title.length>45?(0,j.jsx)(f,{children:n.original_title.slice(0,45)+"..."}):(0,j.jsx)(f,{children:n.original_title}),(0,j.jsxs)(v,{children:[(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:"Release date:"}),(0,j.jsx)("p",{children:n.release_date.split("-").reverse().join("/")})]}),(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:" Rate:"}),(0,j.jsx)("p",{children:Math.round(10*n.vote_average)/10})]}),(0,j.jsxs)(m,{children:[(0,j.jsx)("p",{children:" Vote count:"}),(0,j.jsx)("p",{children:n.vote_count})]})]})]})},n.id)}))})}},141:function(n,t,e){e.r(t),e.d(t,{default:function(){return y}});var r,i,a,o=e(861),s=e(439),c=e(757),p=e.n(c),u=e(87),l=e(791),h=e(168),d=e(444),x=e(128),f=d.ZP.div(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n  position: relative;\n"]))),g=d.ZP.input(i||(i=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  border: 1px solid #7c5400;\n  font: inherit;\n"]))),v=(0,d.ZP)(x.G4C)(a||(a=(0,h.Z)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: 9px;\n  right: 6px;\n"]))),m=e(184),j=function(n){var t=n.value,e=n.onChange,r=n.onSubmit;return(0,m.jsx)(f,{children:(0,m.jsxs)("form",{onSubmit:r,children:[(0,m.jsx)(g,{type:"text",value:t,onChange:function(n){return e(n.target.value)}}),(0,m.jsx)(v,{})]})})},w=e(387),b=e(47),y=function(){var n,t=(0,l.useState)(""),e=(0,s.Z)(t,2),r=e[0],i=e[1],a=(0,l.useState)(null),c=(0,s.Z)(a,2),h=c[0],d=c[1],x=(0,u.lr)(),f=(0,s.Z)(x,2),g=f[0],v=f[1],y=null!==(n=g.get("query"))&&void 0!==n?n:"",Z=(0,l.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem("movieSearch")))&&void 0!==n?n:{}})),_=(0,s.Z)(Z,2),k=_[0],S=_[1];(0,l.useEffect)((function(){window.localStorage.setItem("movieSearch",JSON.stringify(k))}),[k]);""===y&&k.results.length>0&&window.localStorage.setItem("movieSearch",JSON.stringify({page:0,results:[],total_results:0,total_pages:0}));var P=0===k.results.length&&""===r,C=0===k.results.length&&""!==r;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{value:y,onChange:function(n){v(""!==n?{query:n}:{})},onSubmit:function(n){function t(){return(t=(0,o.Z)(p().mark((function n(){var t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,w.iY)(y).then((function(n){return n}));case 3:t=n.sent,S(t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),d(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}n.preventDefault(),i(y),function(){t.apply(this,arguments)}()}}),P&&(0,m.jsx)("h3",{children:"Find movie that you want to watch above..."}),null===h?(0,m.jsx)("p",{}):(0,m.jsxs)("h3",{children:["Something went wrong on API... The messege error `",h,"`"]}),C?(0,m.jsx)("h3",{children:"Sorry, there are no movies with that name..."}):(0,m.jsx)(b.Z,{movies:k.results})]})}},387:function(n,t,e){e.d(t,{$w:function(){return l},Hg:function(){return c},Pg:function(){return u},Xj:function(){return h},iY:function(){return d}});var r=e(861),i=e(757),a=e.n(i),o="https://api.themoviedb.org/3/",s="78844696e6f21da4f5b43c08b71ce0bd";function c(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"trending/movie/day?api_key=").concat(s));case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var u=function(){var n=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(t,"?api_key=").concat(s));case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(s));case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(s));case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();function d(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"search/movie?api_key=").concat(s,"&query=").concat(t));case 2:return e=n.sent,n.abrupt("return",e.json());case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=141.15a1bbdc.chunk.js.map